{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "properties": {
    "affinity": {
      "description": "Affinity settings for pod assignment",
      "required": [],
      "title": "affinity",
      "type": "object"
    },
    "extraEnv": {
      "description": "additional environment variables to be added to the pods",
      "items": {
        "required": []
      },
      "title": "extraEnv",
      "type": "array"
    },
    "fullnameOverride": {
      "default": "",
      "description": "String to fully override `\"github-exporter.fullname\"`",
      "title": "fullnameOverride",
      "type": "string"
    },
    "github": {
      "properties": {
        "auth": {
          "properties": {
            "app": {
              "properties": {
                "enabled": {
                  "default": false,
                  "description": "Enable authentication using a GitHub App.",
                  "title": "enabled",
                  "type": "boolean"
                },
                "id": {
                  "default": "",
                  "description": "The APP ID of the GitHub App.",
                  "title": "id",
                  "type": "string"
                },
                "installationId": {
                  "default": "",
                  "description": "The INSTALLATION ID of the GitHub App.",
                  "title": "installationId",
                  "type": "string"
                },
                "privateKey": {
                  "default": "",
                  "description": "The private Key.",
                  "title": "privateKey",
                  "type": "string"
                }
              },
              "required": [
                "enabled",
                "id",
                "installationId",
                "privateKey"
              ],
              "title": "app",
              "type": "object"
            },
            "existingSecret": {
              "default": "",
              "description": "Name of existing secret to use for authentication credentials. Keys in secret should be called `github-app-id`, `github-app-installation-id`, `github-app-private-key` or `github-token` depenending on the choosen authentication type (`github.auth.type``).",
              "title": "existingSecret",
              "type": "string"
            },
            "token": {
              "properties": {
                "enabled": {
                  "default": false,
                  "description": "Enable authentication with an API Token",
                  "title": "enabled",
                  "type": "boolean"
                },
                "value": {
                  "default": "",
                  "description": "The Token used to authenticate against the GitHub API",
                  "title": "value",
                  "type": "string"
                }
              },
              "required": [
                "enabled",
                "value"
              ],
              "title": "token",
              "type": "object"
            }
          },
          "required": [
            "app",
            "existingSecret",
            "token"
          ],
          "title": "auth",
          "type": "object"
        },
        "config": {
          "properties": {
            "apiUrl": {
              "default": "https://api.github.com",
              "description": "Github API URL, shouldn't need to change this.",
              "title": "apiUrl",
              "type": "string"
            },
            "logLevel": {
              "default": "error",
              "description": "The level of logging the exporter will run with.",
              "title": "logLevel",
              "type": "string"
            },
            "rateLimit": {
              "default": 0,
              "description": "The rate limit that suppose to be for github app (default is 15,000). If the exporter sees the value is below this variable it generating new token for the app.",
              "title": "rateLimit",
              "type": "integer"
            }
          },
          "required": [
            "apiUrl",
            "logLevel",
            "rateLimit"
          ],
          "title": "config",
          "type": "object"
        },
        "targets": {
          "properties": {
            "organizations": {
              "default": "",
              "description": "If supplied, the exporter will enumerate all repositories for that organization. Expected in the format \"org1, org2\".",
              "title": "organizations",
              "type": "string"
            },
            "repositories": {
              "default": "",
              "description": "If supplied, The repos you wish to monitor, expected in the format \"user/repo1, user/repo2\". Can be across different Github users/orgs.",
              "title": "repositories",
              "type": "string"
            },
            "users": {
              "default": "",
              "description": "If supplied, the exporter will enumerate all repositories for that users. Expected in the format \"user1, user2\".",
              "title": "users",
              "type": "string"
            }
          },
          "required": [
            "organizations",
            "repositories",
            "users"
          ],
          "title": "targets",
          "type": "object"
        }
      },
      "required": [
        "auth",
        "config",
        "targets"
      ],
      "title": "github",
      "type": "object"
    },
    "global": {
      "description": "Global values are values that can be accessed from any chart or subchart by exactly the same name.",
      "required": [],
      "title": "global",
      "type": "object"
    },
    "image": {
      "properties": {
        "pullPolicy": {
          "default": "Always",
          "description": "image pull policy",
          "title": "pullPolicy",
          "type": "string"
        },
        "registry": {
          "default": "docker.io",
          "description": "image registory",
          "title": "registry",
          "type": "string"
        },
        "repository": {
          "default": "githubexporter/github-exporter",
          "description": "image repository",
          "title": "repository",
          "type": "string"
        },
        "tag": {
          "default": "v2.1.0",
          "description": "Overrides the image tag",
          "title": "tag",
          "type": "string"
        }
      },
      "required": [
        "registry",
        "repository",
        "pullPolicy",
        "tag"
      ],
      "title": "image",
      "type": "object"
    },
    "imagePullSecrets": {
      "description": "If defined, uses a Secret to pull an image from a private Docker registry or repository.",
      "items": {
        "required": []
      },
      "title": "imagePullSecrets",
      "type": "array"
    },
    "ingress": {
      "properties": {
        "annotations": {
          "required": [],
          "title": "annotations",
          "type": "object"
        },
        "className": {
          "default": "",
          "title": "className",
          "type": "string"
        },
        "enabled": {
          "default": false,
          "title": "enabled",
          "type": "boolean"
        },
        "hosts": {
          "description": "kubernetes.io/ingress.class: nginx\nkubernetes.io/tls-acme: \"true\"",
          "items": {
            "anyOf": [
              {
                "properties": {
                  "host": {
                    "default": "chart-example.local",
                    "title": "host",
                    "type": "string"
                  },
                  "paths": {
                    "items": {
                      "anyOf": [
                        {
                          "properties": {
                            "path": {
                              "default": "/",
                              "title": "path",
                              "type": "string"
                            },
                            "pathType": {
                              "default": "ImplementationSpecific",
                              "title": "pathType",
                              "type": "string"
                            }
                          },
                          "required": [
                            "path",
                            "pathType"
                          ],
                          "type": "object"
                        }
                      ],
                      "required": []
                    },
                    "title": "paths",
                    "type": "array"
                  }
                },
                "required": [
                  "host",
                  "paths"
                ],
                "type": "object"
              }
            ],
            "required": []
          },
          "title": "hosts",
          "type": "array"
        },
        "tls": {
          "items": {
            "required": []
          },
          "title": "tls",
          "type": "array"
        }
      },
      "required": [
        "enabled",
        "className",
        "annotations",
        "hosts",
        "tls"
      ],
      "title": "ingress",
      "type": "object"
    },
    "nameOverride": {
      "default": "",
      "description": "Provide a name in place of `github-exporter`",
      "title": "nameOverride",
      "type": "string"
    },
    "nodeSelector": {
      "description": "Node labels for pod assignment",
      "required": [],
      "title": "nodeSelector",
      "type": "object"
    },
    "podSecurityContext": {
      "description": "pod-level security context",
      "required": [],
      "title": "podSecurityContext",
      "type": "object"
    },
    "replicaCount": {
      "default": 1,
      "description": "Number of replicas",
      "title": "replicaCount",
      "type": "integer"
    },
    "resources": {
      "description": "Resource limits and requests for the controller pods.",
      "properties": {
        "requests": {
          "properties": {
            "cpu": {
              "default": "100m",
              "title": "cpu",
              "type": "string"
            },
            "memory": {
              "default": "100Mi",
              "title": "memory",
              "type": "string"
            }
          },
          "required": [
            "cpu",
            "memory"
          ],
          "title": "requests",
          "type": "object"
        }
      },
      "required": [
        "requests"
      ],
      "title": "resources",
      "type": "object"
    },
    "revisionHistoryLimit": {
      "default": 0,
      "description": "The number of old ReplicaSets to retain",
      "title": "revisionHistoryLimit",
      "type": "integer"
    },
    "route": {
      "description": "BETA: Configure the gateway routes for the chart here.\nMore routes can be added by adding a dictionary key like the 'main' route.\nBeing BETA this can/will change in the future without notice, do not use unless you want to take that risk\n[[ref]](https://gateway-api.sigs.k8s.io/references/spec/#gateway.networking.k8s.io%2fv1alpha2)",
      "properties": {
        "main": {
          "properties": {
            "additionalRules": {
              "description": "Additional custom rules that can be added to the route",
              "items": {
                "required": []
              },
              "title": "additionalRules",
              "type": "array"
            },
            "annotations": {
              "description": "Add annotations to the route",
              "required": [],
              "title": "annotations",
              "type": "object"
            },
            "apiVersion": {
              "default": "gateway.networking.k8s.io/v1",
              "description": "Set the route apiVersion, e.g. gateway.networking.k8s.io/v1 or gateway.networking.k8s.io/v1alpha2",
              "title": "apiVersion",
              "type": "string"
            },
            "enabled": {
              "default": false,
              "description": "Enables or disables the route",
              "title": "enabled",
              "type": "boolean"
            },
            "filters": {
              "description": "Filters define the filters that are applied to requests that match this rule.",
              "items": {
                "required": []
              },
              "title": "filters",
              "type": "array"
            },
            "hostnames": {
              "description": "Hostnames to be matched",
              "items": {
                "required": []
              },
              "title": "hostnames",
              "type": "array"
            },
            "httpsRedirect": {
              "default": false,
              "description": "adds a filter for redirecting to https (HTTP 301 Moved Permanently). To redirect HTTP traffic to HTTPS, you need to have a Gateway with both HTTP and HTTPS listeners. Matches and filters do not take effect if enabled. Ref. https://gateway-api.sigs.k8s.io/guides/http-redirect-rewrite/",
              "title": "httpsRedirect",
              "type": "boolean"
            },
            "kind": {
              "default": "HTTPRoute",
              "description": "Set the route kind\nValid options are GRPCRoute, HTTPRoute, TCPRoute, TLSRoute, UDPRoute",
              "title": "kind",
              "type": "string"
            },
            "labels": {
              "description": "Add labels to the route",
              "required": [],
              "title": "labels",
              "type": "object"
            },
            "matches": {
              "description": "define conditions used for matching the rule against incoming HTTP requests.",
              "items": {
                "anyOf": [
                  {
                    "properties": {
                      "path": {
                        "properties": {
                          "type": {
                            "default": "PathPrefix",
                            "title": "type",
                            "type": "string"
                          },
                          "value": {
                            "default": "/",
                            "title": "value",
                            "type": "string"
                          }
                        },
                        "required": [
                          "type",
                          "value"
                        ],
                        "title": "path",
                        "type": "object"
                      }
                    },
                    "required": [
                      "path"
                    ],
                    "type": "object"
                  }
                ],
                "required": []
              },
              "title": "matches",
              "type": "array"
            },
            "parentRefs": {
              "description": "Parent references (Gateway)",
              "items": {
                "required": []
              },
              "title": "parentRefs",
              "type": "array"
            }
          },
          "required": [
            "enabled",
            "apiVersion",
            "kind",
            "annotations",
            "labels",
            "hostnames",
            "parentRefs",
            "matches",
            "filters",
            "additionalRules",
            "httpsRedirect"
          ],
          "title": "main",
          "type": "object"
        }
      },
      "required": [
        "main"
      ],
      "title": "route",
      "type": "object"
    },
    "securityContext": {
      "description": "container-level security context",
      "required": [],
      "title": "securityContext",
      "type": "object"
    },
    "service": {
      "properties": {
        "port": {
          "default": 9171,
          "description": "Kubernetes port where service is exposed",
          "title": "port",
          "type": "integer"
        },
        "type": {
          "default": "ClusterIP",
          "description": "Kubernetes service type",
          "title": "type",
          "type": "string"
        }
      },
      "required": [
        "type",
        "port"
      ],
      "title": "service",
      "type": "object"
    },
    "serviceAccount": {
      "properties": {
        "annotations": {
          "description": "Annotations to add to the service account",
          "required": [],
          "title": "annotations",
          "type": "object"
        },
        "create": {
          "default": true,
          "description": "Specifies whether a service account should be created",
          "title": "create",
          "type": "boolean"
        },
        "name": {
          "default": "",
          "description": "The name of the service account to use.\nIf not set and create is true, a name is generated using the fullname template",
          "title": "name",
          "type": "string"
        }
      },
      "required": [
        "create",
        "annotations",
        "name"
      ],
      "title": "serviceAccount",
      "type": "object"
    },
    "serviceMonitor": {
      "properties": {
        "additionalLabels": {
          "description": "Prometheus ServiceMonitor labels",
          "required": [],
          "title": "additionalLabels",
          "type": "object"
        },
        "enabled": {
          "default": false,
          "description": "Enable a Prometheus ServiceMonitor",
          "title": "enabled",
          "type": "boolean"
        },
        "interval": {
          "default": "30s",
          "description": "prometheus: kube-prometheus\nPrometheus ServiceMonitor interval",
          "title": "interval",
          "type": "string"
        },
        "metricRelabelings": {
          "description": "Prometheus [MetricRelabelConfigs] to apply to samples before ingestion",
          "items": {
            "required": []
          },
          "title": "metricRelabelings",
          "type": "array"
        },
        "namespace": {
          "default": "",
          "description": "Prometheus ServiceMonitor namespace",
          "title": "namespace",
          "type": "string"
        },
        "relabelings": {
          "description": "Prometheus [RelabelConfigs] to apply to samples before scraping",
          "items": {
            "required": []
          },
          "title": "relabelings",
          "type": "array"
        },
        "selector": {
          "description": "release: prometheus\nPrometheus ServiceMonitor selector",
          "required": [],
          "title": "selector",
          "type": "object"
        }
      },
      "required": [
        "enabled",
        "additionalLabels",
        "selector",
        "interval",
        "namespace",
        "metricRelabelings",
        "relabelings"
      ],
      "title": "serviceMonitor",
      "type": "object"
    },
    "tolerations": {
      "description": "Toleration labels for pod assignment",
      "items": {
        "required": []
      },
      "title": "tolerations",
      "type": "array"
    }
  },
  "required": [
    "nameOverride",
    "fullnameOverride",
    "image",
    "imagePullSecrets",
    "replicaCount",
    "revisionHistoryLimit",
    "podSecurityContext",
    "resources",
    "securityContext",
    "service",
    "ingress",
    "route",
    "serviceAccount",
    "nodeSelector",
    "tolerations",
    "affinity",
    "extraEnv",
    "github",
    "serviceMonitor"
  ],
  "type": "object"
}
